#include<iostream>
#include<cmath>
using namespace std;


int main()
{
    int x , y ,i,j,a_numes = 0, b_numes = 0;


    cout<<"Enter number of rows and columns:";
    cin>>x>>y;
    int a[x][y];
    int b[x][y];
    cout<<"Enter matrix 1 number : "<<endl;
    for(i=0;i<x;i++) {
        cout<<"Enter row "<<i+1<<": "<<endl;
        for(j=0;j<y;j++) {
            cout<<"Enter column "<<j+1<<": "<<endl;
            cin>>a[i][j];
        }
    }
    cout<<"Enter matrix 2 number : "<<endl;
    for(i=0;i<x;i++) {
        cout<<"Enter row "<<i+1<<": "<<endl;
        for(j=0;j<y;j++) {
            cout<<"Enter column "<<j+1<<": "<<endl;
            cin>>b[i][j];
        }
    }
    for(i=0;i<x;i++) {
        for(j=0;j<y;j++) {
            if (a[i][j] != 0)
                a_numes ++;
        }
    }
    for(i=0;i<x;i++) {
        for(j=0;j<y;j++) {
            if (a[i][j] != 0)
                b_numes ++;
        }
    }
    if (((x*y*2)<(a_numes*4))or((x*y*2)<(b_numes*4))) {
        cout<<"its not optimal";
        return 0;
    }
    int a_spars[a_numes][3];
    for(i=0;i<x;i++) {
        for(j=0;j<y;j++) {
            if (a[i][j] != 0) {
                a_spars[i][0] = i+1;
                a_spars[i][1] = j+1;
                a_spars[i][2] = a[i][j];
            }
        }
    }
    int b_spars[b_numes][3];
    for(i=0;i<x;i++) {
        for(j=0;j<y;j++) {
            if (b[i][j] != 0) {
                b_spars[i][0] = i+1;
                b_spars[i][1] = j+1;
                b_spars[i][2] = b[i][j];
            }
        }
    }

    int P_max=a_numes+b_numes;
    int c[P_max][3];
    for (i=0;i<P_max;i++) {
        for (j=0;j<3;j++) {
            c[i][j]=0;
        }
    }

    for (i=0;i<a_numes;i++) {
        for (j=0;j<3;j++) {
            c[i][j] = a_spars[i][j];
        }
    }

    int c_numes = a_numes;

    for (j=0;j<b_numes;j++) {
        for (i=0;i<a_numes;i++) {
            if (c[j][0] == b_spars[i][0] && c[j][1] == b_spars[i][1]) {
                cout<<c[j][2]<<endl;
                c[j][2] += b_spars[i][2];
            }else {
                c[a_numes+j][0] = b_spars[i][0];
                c[a_numes+j][1] = b_spars[i][1];
                c[a_numes+j][2] = b_spars[i][2];
            }
        }
    }

    for (i=0;i<P_max;i++) {
        for (j=0;j<3;j++) {
            cout<<c[i][j]<<" ";
        }
        cout<<endl;
    }
    return 0;
}